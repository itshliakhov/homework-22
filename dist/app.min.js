
"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}
var Weather=function(){function Weather(props){_classCallCheck(this,Weather);this.selectCity=props.selectCity;this.showWeatherBtn=props.showWeatherBtn;this.city=props.city;this.temp=props.temp;this.pressure=props.pressure;this.desc=props.desc;this.humidity=props.humidity;this.speed=props.speed;this.deg=props.deg;this.icon=props.icon;}
_createClass(Weather,[{key:"init",value:function init(){this.getResponse();}},{key:"chooseCity",value:function chooseCity(){var _this=this;this.selectCity.addEventListener("change",function(){_this.selectedCity=_this.selectCity.value;if(_this.selectedCity===""){_this.showWeatherBtn.setAttribute("disabled","disabled");}else{_this.showWeatherBtn.removeAttribute("disabled");}});}},{key:"getResponse",value:function getResponse(){var _this2=this;this.chooseCity();this.showWeatherBtn.addEventListener('click',function(){fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(_this2.selectedCity,"&units=metric&APPID=5d066958a60d315387d9492393935c19")).then(function(response){return response.json();}).then(function(data){_this2.showWeatherData(data);});});}},{key:"showWeatherData",value:function showWeatherData(data){this.city.innerText="City name: "+data.name;this.temp.innerText="Temperature: "+data.main.temp+" â„ƒ";this.pressure.innerText="Pressure: "+data.main.pressure+" hPa";this.desc.innerText="Description: "+data.weather[0].description;this.humidity.innerText="Humidity: "+data.main.humidity+"%";this.speed.innerText="Wind: "+data.wind.speed+"km/h SSE";this.deg.innerText="Wind degree: "+data.wind.deg+"*";this.icon.src="http://openweathermap.org/img/w/".concat(data.weather[0].icon,".png");}}]);return Weather;}();var weather=new Weather({selectCity:document.querySelector(".js--city_selector"),showWeatherBtn:document.querySelector(".js--makeRequest"),city:document.querySelector(".city"),temp:document.querySelector(".temp"),pressure:document.querySelector(".pressure"),desc:document.querySelector(".description"),humidity:document.querySelector(".humidity"),speed:document.querySelector(".speed"),deg:document.querySelector(".degree"),icon:document.querySelector(".icon")});weather.init();